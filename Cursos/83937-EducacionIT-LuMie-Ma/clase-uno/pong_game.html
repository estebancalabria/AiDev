<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 1000px;
            height: 600px;
            background: linear-gradient(90deg, rgba(15,52,96,0.8) 0%, rgba(26,26,46,0.8) 50%, rgba(15,52,96,0.8) 100%);
            border: 3px solid #00ff88;
            box-shadow: 0 0 30px #00ff88, inset 0 0 30px rgba(0,255,136,0.2);
            overflow: hidden;
        }

        canvas {
            display: block;
            background: linear-gradient(90deg, transparent 0%, rgba(0,255,136,0.05) 50%, transparent 100%);
        }

        .ui {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            font-size: 32px;
            font-weight: bold;
            color: #00ff88;
            text-shadow: 0 0 10px #00ff88;
            z-index: 10;
        }

        .score {
            text-align: center;
        }

        .controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            text-align: center;
            color: #00ff88;
            font-size: 14px;
            opacity: 0.7;
            z-index: 10;
        }

        .pause-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 20;
        }

        .pause-overlay.active {
            display: flex;
        }

        .pause-text {
            color: #00ff88;
            font-size: 48px;
            font-weight: bold;
            text-shadow: 0 0 20px #00ff88;
            margin-bottom: 20px;
        }

        .restart-hint {
            color: #00ff88;
            font-size: 18px;
            text-shadow: 0 0 10px #00ff88;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <canvas id="pongCanvas"></canvas>
        <div class="ui">
            <div class="score">
                <div>Jugador 1</div>
                <div id="score1">0</div>
            </div>
            <div style="align-self: center; font-size: 16px; opacity: 0.5;">PONG</div>
            <div class="score">
                <div>Jugador 2</div>
                <div id="score2">0</div>
            </div>
        </div>
        <div class="controls">
            Jugador 1: A y Z | Jugador 2: Flechas ↑↓ | ESPACIO: Pausa/Reiniciar
        </div>
        <div class="pause-overlay" id="pauseOverlay">
            <div class="pause-text">PAUSADO</div>
            <div class="restart-hint">Presiona ESPACIO para reanudar</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('pongCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = 1000;
        canvas.height = 600;

        // Game objects
        const paddle1 = {
            x: 20,
            y: canvas.height / 2 - 50,
            width: 10,
            height: 100,
            dy: 0,
            speed: 6,
            color: '#00ff88'
        };

        const paddle2 = {
            x: canvas.width - 30,
            y: canvas.height / 2 - 50,
            width: 10,
            height: 100,
            dy: 0,
            speed: 6,
            color: '#ff00ff'
        };

        const ball = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            radius: 8,
            dx: 5,
            dy: 5,
            speed: 5,
            color: '#00ffff'
        };

        let score1 = 0;
        let score2 = 0;
        let paused = false;
        let gameOver = false;

        const particles = [];

        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.vx = (Math.random() - 0.5) * 8;
                this.vy = (Math.random() - 0.5) * 8;
                this.life = 1;
                this.decay = Math.random() * 0.02 + 0.01;
                this.size = Math.random() * 4 + 2;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.2;
                this.life -= this.decay;
            }

            draw(ctx) {
                ctx.save();
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        function createParticles(x, y, color, count = 8) {
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(x, y, color));
            }
        }

        const keys = {};

        window.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;

            if (e.key === ' ') {
                e.preventDefault();
                paused = !paused;
                document.getElementById('pauseOverlay').classList.toggle('active', paused);
            }
        });

        window.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });

        function updatePaddles() {
            // Paddle 1 (A and Z)
            if (keys['a'] && paddle1.y > 0) {
                paddle1.y -= paddle1.speed;
            }
            if (keys['z'] && paddle1.y < canvas.height - paddle1.height) {
                paddle1.y += paddle1.speed;
            }

            // Paddle 2 (Arrow keys)
            if (keys['arrowup'] && paddle2.y > 0) {
                paddle2.y -= paddle2.speed;
            }
            if (keys['arrowdown'] && paddle2.y < canvas.height - paddle2.height) {
                paddle2.y += paddle2.speed;
            }
        }

        function updateBall() {
            ball.x += ball.dx;
            ball.y += ball.dy;

            // Top and bottom collision
            if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                ball.dy = -ball.dy;
                ball.y = Math.max(ball.radius, Math.min(canvas.height - ball.radius, ball.y));
                createParticles(ball.x, ball.y, ball.color, 6);
            }

            // Paddle 1 collision
            if (ball.x - ball.radius < paddle1.x + paddle1.width &&
                ball.y > paddle1.y &&
                ball.y < paddle1.y + paddle1.height) {
                ball.dx = Math.abs(ball.dx);
                ball.x = paddle1.x + paddle1.width + ball.radius;
                const deltaY = ball.y - (paddle1.y + paddle1.height / 2);
                ball.dy = deltaY * 0.1;
                createParticles(ball.x, ball.y, paddle1.color, 12);
            }

            // Paddle 2 collision
            if (ball.x + ball.radius > paddle2.x &&
                ball.y > paddle2.y &&
                ball.y < paddle2.y + paddle2.height) {
                ball.dx = -Math.abs(ball.dx);
                ball.x = paddle2.x - ball.radius;
                const deltaY = ball.y - (paddle2.y + paddle2.height / 2);
                ball.dy = deltaY * 0.1;
                createParticles(ball.x, ball.y, paddle2.color, 12);
            }

            // Scoring
            if (ball.x < 0) {
                score2++;
                document.getElementById('score2').textContent = score2;
                resetBall();
            }
            if (ball.x > canvas.width) {
                score1++;
                document.getElementById('score1').textContent = score1;
                resetBall();
            }
        }

        function resetBall() {
            ball.x = canvas.width / 2;
            ball.y = canvas.height / 2;
            ball.dx = (Math.random() > 0.5 ? 1 : -1) * 5;
            ball.dy = (Math.random() - 0.5) * 5;
            createParticles(ball.x, ball.y, ball.color, 20);
        }

        function update() {
            if (!paused) {
                updatePaddles();
                updateBall();
            }

            particles.forEach((p, i) => {
                p.update();
                if (p.life <= 0) {
                    particles.splice(i, 1);
                }
            });
        }

        function drawPaddle(paddle) {
            ctx.fillStyle = paddle.color;
            ctx.shadowColor = paddle.color;
            ctx.shadowBlur = 20;
            ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
            ctx.shadowBlur = 0;
        }

        function drawBall() {
            ctx.fillStyle = ball.color;
            ctx.shadowColor = ball.color;
            ctx.shadowBlur = 20;
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        function drawCenterLine() {
            ctx.strokeStyle = 'rgba(0, 255, 136, 0.2)';
            ctx.setLineDash([10, 10]);
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            drawCenterLine();
            drawPaddle(paddle1);
            drawPaddle(paddle2);
            drawBall();

            particles.forEach(p => p.draw(ctx));
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>